{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TimeInterval = exports.timeInterval = void 0;\n\nvar async_1 = require(\"../scheduler/async\");\n\nvar scan_1 = require(\"./scan\");\n\nvar defer_1 = require(\"../observable/defer\");\n\nvar map_1 = require(\"./map\");\n\nfunction timeInterval(scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async_1.async;\n  }\n\n  return function (source) {\n    return defer_1.defer(function () {\n      return source.pipe(scan_1.scan(function (_a, value) {\n        var current = _a.current;\n        return {\n          value: value,\n          current: scheduler.now(),\n          last: current\n        };\n      }, {\n        current: scheduler.now(),\n        value: undefined,\n        last: undefined\n      }), map_1.map(function (_a) {\n        var current = _a.current,\n            last = _a.last,\n            value = _a.value;\n        return new TimeInterval(value, current - last);\n      }));\n    });\n  };\n}\n\nexports.timeInterval = timeInterval;\n\nvar TimeInterval = function () {\n  function TimeInterval(value, interval) {\n    this.value = value;\n    this.interval = interval;\n  }\n\n  return TimeInterval;\n}();\n\nexports.TimeInterval = TimeInterval;","map":{"version":3,"sources":["../../../../src/internal/operators/timeInterval.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,QAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAkDA,SAAgB,YAAhB,CAAgC,SAAhC,EAAgE;AAAhC,MAAA,SAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAA2B,OAAA,CAAA,KAA3B;AAAgC;;AAC9D,SAAO,UAAC,MAAD,EAAsB;AAC3B,WAAA,OAAA,CAAA,KAAA,CAAM,YAAA;AACJ,aAAO,MAAM,CAAC,IAAP,CAEL,MAAA,CAAA,IAAA,CAAK,UAAC,EAAD,EAAc,KAAd,EAAmB;YAAhB,OAAO,GAAA,EAAA,CAAA,O;AAAc,eAAC;AAAE,UAAA,KAAK,EAAA,KAAP;AAAS,UAAA,OAAO,EAAE,SAAS,CAAC,GAAV,EAAlB;AAAmC,UAAA,IAAI,EAAE;AAAzC,SAAD;AAAoD,OAAjF,EAAmF;AACjF,QAAA,OAAO,EAAE,SAAS,CAAC,GAAV,EADwE;AAEjF,QAAA,KAAK,EAAE,SAF0E;AAGjF,QAAA,IAAI,EAAE;AAH2E,OAAnF,CAFK,EAOL,KAAA,CAAA,GAAA,CAA0B,UAAC,EAAD,EAAyB;YAAtB,OAAO,GAAA,EAAA,CAAA,O;YAAE,IAAI,GAAA,EAAA,CAAA,I;YAAE,KAAK,GAAA,EAAA,CAAA,K;AAAO,eAAA,IAAI,YAAJ,CAAiB,KAAjB,EAAwB,OAAO,GAAG,IAAlC,CAAA;AAAuC,OAA/F,CAPK,CAAP;AASD,KAVD,CAAA;AAUE,GAXJ;AAYD;;AAbD,OAAA,CAAA,YAAA,GAAA,YAAA;;AAkBA,IAAA,YAAA,GAAA,YAAA;AAIE,WAAA,YAAA,CAAmB,KAAnB,EAAoC,QAApC,EAAoD;AAAjC,SAAA,KAAA,GAAA,KAAA;AAAiB,SAAA,QAAA,GAAA,QAAA;AAAoB;;AAC1D,SAAA,YAAA;AAAC,CALD,EAAA;;AAAa,OAAA,CAAA,YAAA,GAAA,YAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeInterval = exports.timeInterval = void 0;\nvar async_1 = require(\"../scheduler/async\");\nvar scan_1 = require(\"./scan\");\nvar defer_1 = require(\"../observable/defer\");\nvar map_1 = require(\"./map\");\nfunction timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) {\n        return defer_1.defer(function () {\n            return source.pipe(scan_1.scan(function (_a, value) {\n                var current = _a.current;\n                return ({ value: value, current: scheduler.now(), last: current });\n            }, {\n                current: scheduler.now(),\n                value: undefined,\n                last: undefined,\n            }), map_1.map(function (_a) {\n                var current = _a.current, last = _a.last, value = _a.value;\n                return new TimeInterval(value, current - last);\n            }));\n        });\n    };\n}\nexports.timeInterval = timeInterval;\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexports.TimeInterval = TimeInterval;\n//# sourceMappingURL=timeInterval.js.map"]},"metadata":{},"sourceType":"script"}