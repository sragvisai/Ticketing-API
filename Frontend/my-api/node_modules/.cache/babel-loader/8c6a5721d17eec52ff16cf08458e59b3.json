{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.raceInit = exports.race = void 0;\n\nvar Observable_1 = require(\"../Observable\");\n\nvar innerFrom_1 = require(\"./innerFrom\");\n\nvar argsOrArgArray_1 = require(\"../util/argsOrArgArray\");\n\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\n\nfunction race() {\n  var sources = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    sources[_i] = arguments[_i];\n  }\n\n  sources = argsOrArgArray_1.argsOrArgArray(sources);\n  return sources.length === 1 ? innerFrom_1.innerFrom(sources[0]) : new Observable_1.Observable(raceInit(sources));\n}\n\nexports.race = race;\n\nfunction raceInit(sources) {\n  return function (subscriber) {\n    var subscriptions = [];\n\n    var _loop_1 = function (i) {\n      subscriptions.push(innerFrom_1.innerFrom(sources[i]).subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber, function (value) {\n        if (subscriptions) {\n          for (var s = 0; s < subscriptions.length; s++) {\n            s !== i && subscriptions[s].unsubscribe();\n          }\n\n          subscriptions = null;\n        }\n\n        subscriber.next(value);\n      })));\n    };\n\n    for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n      _loop_1(i);\n    }\n  };\n}\n\nexports.raceInit = raceInit;","map":{"version":3,"sources":["../../../../src/internal/observable/race.ts"],"names":[],"mappings":";;;;;;;AAAA,IAAA,YAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AACA,IAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAGA,IAAA,gBAAA,GAAA,OAAA,CAAA,wBAAA,CAAA;;AACA,IAAA,oBAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;AA+CA,SAAgB,IAAhB,GAAoB;AAAI,MAAA,OAAA,GAAA,EAAA;;OAAA,IAAA,EAAA,GAAA,C,EAAA,EAAA,GAAA,SAAA,CAAA,M,EAAA,EAAA,E,EAAyD;AAAzD,IAAA,OAAA,CAAA,EAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AACtB,EAAA,OAAO,GAAG,gBAAA,CAAA,cAAA,CAAe,OAAf,CAAV;AAEA,SAAO,OAAO,CAAC,MAAR,KAAmB,CAAnB,GAAuB,WAAA,CAAA,SAAA,CAAU,OAAO,CAAC,CAAD,CAAjB,CAAvB,GAAqE,IAAI,YAAA,CAAA,UAAJ,CAAkB,QAAQ,CAAC,OAAD,CAA1B,CAA5E;AACD;;AAJD,OAAA,CAAA,IAAA,GAAA,IAAA;;AAWA,SAAgB,QAAhB,CAA4B,OAA5B,EAAyD;AACvD,SAAO,UAAC,UAAD,EAA0B;AAC/B,QAAI,aAAa,GAAmB,EAApC;;4BAMS,C,EAAC;AACR,MAAA,aAAa,CAAC,IAAd,CACE,WAAA,CAAA,SAAA,CAAU,OAAO,CAAC,CAAD,CAAjB,EAA4C,SAA5C,CACE,IAAI,oBAAA,CAAA,kBAAJ,CAAuB,UAAvB,EAAmC,UAAC,KAAD,EAAM;AACvC,YAAI,aAAJ,EAAmB;AAGjB,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,aAAa,CAAC,MAAlC,EAA0C,CAAC,EAA3C,EAA+C;AAC7C,YAAA,CAAC,KAAK,CAAN,IAAW,aAAa,CAAC,CAAD,CAAb,CAAiB,WAAjB,EAAX;AACD;;AACD,UAAA,aAAa,GAAG,IAAhB;AACD;;AACD,QAAA,UAAU,CAAC,IAAX,CAAgB,KAAhB;AACD,OAVD,CADF,CADF;;;AADF,SAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,aAAa,IAAI,CAAC,UAAU,CAAC,MAA7B,IAAuC,CAAC,GAAG,OAAO,CAAC,MAAnE,EAA2E,CAAC,EAA5E,EAA8E;cAArE,C;AAgBR;AACF,GAxBD;AAyBD;;AA1BD,OAAA,CAAA,QAAA,GAAA,QAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.raceInit = exports.race = void 0;\nvar Observable_1 = require(\"../Observable\");\nvar innerFrom_1 = require(\"./innerFrom\");\nvar argsOrArgArray_1 = require(\"../util/argsOrArgArray\");\nvar OperatorSubscriber_1 = require(\"../operators/OperatorSubscriber\");\nfunction race() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    sources = argsOrArgArray_1.argsOrArgArray(sources);\n    return sources.length === 1 ? innerFrom_1.innerFrom(sources[0]) : new Observable_1.Observable(raceInit(sources));\n}\nexports.race = race;\nfunction raceInit(sources) {\n    return function (subscriber) {\n        var subscriptions = [];\n        var _loop_1 = function (i) {\n            subscriptions.push(innerFrom_1.innerFrom(sources[i]).subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber, function (value) {\n                if (subscriptions) {\n                    for (var s = 0; s < subscriptions.length; s++) {\n                        s !== i && subscriptions[s].unsubscribe();\n                    }\n                    subscriptions = null;\n                }\n                subscriber.next(value);\n            })));\n        };\n        for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n            _loop_1(i);\n        }\n    };\n}\nexports.raceInit = raceInit;\n//# sourceMappingURL=race.js.map"]},"metadata":{},"sourceType":"script"}