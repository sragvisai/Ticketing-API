{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.repeat = void 0;\n\nvar empty_1 = require(\"../observable/empty\");\n\nvar lift_1 = require(\"../util/lift\");\n\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\n\nfunction repeat(count) {\n  if (count === void 0) {\n    count = Infinity;\n  }\n\n  return count <= 0 ? function () {\n    return empty_1.EMPTY;\n  } : lift_1.operate(function (source, subscriber) {\n    var soFar = 0;\n    var innerSub;\n\n    var subscribeForRepeat = function () {\n      var syncUnsub = false;\n      innerSub = source.subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber, undefined, function () {\n        if (++soFar < count) {\n          if (innerSub) {\n            innerSub.unsubscribe();\n            innerSub = null;\n            subscribeForRepeat();\n          } else {\n            syncUnsub = true;\n          }\n        } else {\n          subscriber.complete();\n        }\n      }));\n\n      if (syncUnsub) {\n        innerSub.unsubscribe();\n        innerSub = null;\n        subscribeForRepeat();\n      }\n    };\n\n    subscribeForRepeat();\n  });\n}\n\nexports.repeat = repeat;","map":{"version":3,"sources":["../../../../src/internal/operators/repeat.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AAEA,IAAA,oBAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;;AAwDA,SAAgB,MAAhB,CAA0B,KAA1B,EAA0C;AAAhB,MAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,QAAA;AAAgB;;AACxC,SAAO,KAAK,IAAI,CAAT,GACH,YAAA;AAAM,WAAA,OAAA,CAAA,KAAA;AAAK,GADR,GAEH,MAAA,CAAA,OAAA,CAAQ,UAAC,MAAD,EAAS,UAAT,EAAmB;AACzB,QAAI,KAAK,GAAG,CAAZ;AACA,QAAI,QAAJ;;AACA,QAAM,kBAAkB,GAAG,YAAA;AACzB,UAAI,SAAS,GAAG,KAAhB;AACA,MAAA,QAAQ,GAAG,MAAM,CAAC,SAAP,CACT,IAAI,oBAAA,CAAA,kBAAJ,CAAuB,UAAvB,EAAmC,SAAnC,EAA8C,YAAA;AAC5C,YAAI,EAAE,KAAF,GAAU,KAAd,EAAqB;AACnB,cAAI,QAAJ,EAAc;AACZ,YAAA,QAAQ,CAAC,WAAT;AACA,YAAA,QAAQ,GAAG,IAAX;AACA,YAAA,kBAAkB;AACnB,WAJD,MAIO;AACL,YAAA,SAAS,GAAG,IAAZ;AACD;AACF,SARD,MAQO;AACL,UAAA,UAAU,CAAC,QAAX;AACD;AACF,OAZD,CADS,CAAX;;AAgBA,UAAI,SAAJ,EAAe;AACb,QAAA,QAAQ,CAAC,WAAT;AACA,QAAA,QAAQ,GAAG,IAAX;AACA,QAAA,kBAAkB;AACnB;AACF,KAvBD;;AAwBA,IAAA,kBAAkB;AACnB,GA5BD,CAFJ;AA+BD;;AAhCD,OAAA,CAAA,MAAA,GAAA,MAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.repeat = void 0;\nvar empty_1 = require(\"../observable/empty\");\nvar lift_1 = require(\"../util/lift\");\nvar OperatorSubscriber_1 = require(\"./OperatorSubscriber\");\nfunction repeat(count) {\n    if (count === void 0) { count = Infinity; }\n    return count <= 0\n        ? function () { return empty_1.EMPTY; }\n        : lift_1.operate(function (source, subscriber) {\n            var soFar = 0;\n            var innerSub;\n            var subscribeForRepeat = function () {\n                var syncUnsub = false;\n                innerSub = source.subscribe(new OperatorSubscriber_1.OperatorSubscriber(subscriber, undefined, function () {\n                    if (++soFar < count) {\n                        if (innerSub) {\n                            innerSub.unsubscribe();\n                            innerSub = null;\n                            subscribeForRepeat();\n                        }\n                        else {\n                            syncUnsub = true;\n                        }\n                    }\n                    else {\n                        subscriber.complete();\n                    }\n                }));\n                if (syncUnsub) {\n                    innerSub.unsubscribe();\n                    innerSub = null;\n                    subscribeForRepeat();\n                }\n            };\n            subscribeForRepeat();\n        });\n}\nexports.repeat = repeat;\n//# sourceMappingURL=repeat.js.map"]},"metadata":{},"sourceType":"script"}