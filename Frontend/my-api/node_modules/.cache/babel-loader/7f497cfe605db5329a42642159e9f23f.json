{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.last = void 0;\n\nvar EmptyError_1 = require(\"../util/EmptyError\");\n\nvar filter_1 = require(\"./filter\");\n\nvar takeLast_1 = require(\"./takeLast\");\n\nvar throwIfEmpty_1 = require(\"./throwIfEmpty\");\n\nvar defaultIfEmpty_1 = require(\"./defaultIfEmpty\");\n\nvar identity_1 = require(\"../util/identity\");\n\nfunction last(predicate, defaultValue) {\n  var hasDefaultValue = arguments.length >= 2;\n  return function (source) {\n    return source.pipe(predicate ? filter_1.filter(function (v, i) {\n      return predicate(v, i, source);\n    }) : identity_1.identity, takeLast_1.takeLast(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function () {\n      return new EmptyError_1.EmptyError();\n    }));\n  };\n}\n\nexports.last = last;","map":{"version":3,"sources":["../../../../src/internal/operators/last.ts"],"names":[],"mappings":";;;;;;;AACA,IAAA,YAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,IAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,gBAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAgEA,SAAgB,IAAhB,CACE,SADF,EAEE,YAFF,EAEkB;AAEhB,MAAM,eAAe,GAAG,SAAS,CAAC,MAAV,IAAoB,CAA5C;AACA,SAAO,UAAC,MAAD,EAAsB;AAC3B,WAAA,MAAM,CAAC,IAAP,CACE,SAAS,GAAG,QAAA,CAAA,MAAA,CAAO,UAAC,CAAD,EAAI,CAAJ,EAAK;AAAK,aAAA,SAAS,CAAC,CAAD,EAAI,CAAJ,EAAT,MAAS,CAAT;AAAuB,KAAxC,CAAH,GAA+C,UAAA,CAAA,QAD1D,EAEE,UAAA,CAAA,QAAA,CAAS,CAAT,CAFF,EAGE,eAAe,GAAG,gBAAA,CAAA,cAAA,CAAe,YAAf,CAAH,GAAmC,cAAA,CAAA,YAAA,CAAa,YAAA;AAAM,aAAA,IAAI,YAAA,CAAJ,UAAA,EAAA;AAAgB,KAAnC,CAHpD,CAAA;AAIC,GALH;AAMD;;AAXD,OAAA,CAAA,IAAA,GAAA,IAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.last = void 0;\nvar EmptyError_1 = require(\"../util/EmptyError\");\nvar filter_1 = require(\"./filter\");\nvar takeLast_1 = require(\"./takeLast\");\nvar throwIfEmpty_1 = require(\"./throwIfEmpty\");\nvar defaultIfEmpty_1 = require(\"./defaultIfEmpty\");\nvar identity_1 = require(\"../util/identity\");\nfunction last(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n        return source.pipe(predicate ? filter_1.filter(function (v, i) { return predicate(v, i, source); }) : identity_1.identity, takeLast_1.takeLast(1), hasDefaultValue ? defaultIfEmpty_1.defaultIfEmpty(defaultValue) : throwIfEmpty_1.throwIfEmpty(function () { return new EmptyError_1.EmptyError(); }));\n    };\n}\nexports.last = last;\n//# sourceMappingURL=last.js.map"]},"metadata":{},"sourceType":"script"}